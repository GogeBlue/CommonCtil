# 格式字符串规则

## 一、综述

此规则适用于本项目（CommonCtil）中所有涉及到格式字符串的函数。同时，此规则兼容标准CRT库中的格式字符串，所以遵循CRT库规则的格式字符串可以直接在本项目中使用。

## 二、规则详解

### （一）整体结构

`%[sign][padding][precision][iteration][size](type)`

注：[]代表可缺省，()代表必填，括号外为固定字符，括号内为字段名称

### （二）sign字段

| 类型 | "+"                        | 空                           |
| ---- | -------------------------- | ---------------------------- |
| b    | 不输出符号                 | 不输出符号                   |
| o    | 不输出符号                 | 不输出符号                   |
| d    | 正数输出正号，负数输出负号 | 正数不输出符号，负数输出负号 |
| u    | 不输出符号                 | 不输出符号                   |
| x    | 不输出符号                 | 不输出符号                   |
| f    | 正数输出正号，负数输出负号 | 正数不输出符号，负数输出负号 |
| e    | 正数输出正号，负数输出负号 | 正数不输出符号，负数输出负号 |
| g    | 正数输出正号，负数输出负号 | 正数不输出符号，负数输出负号 |
| c    | 不输出符号                 | 不输出符号                   |
| s    | 不输出符号                 | 不输出符号                   |

### （三）padding字段

#### 1. 组成

`[align][content](length)`

#### 2. align字段

| 类型 | "-"    | 空     |
| ---- | ------ | ------ |
| b    | 左对齐 | 左对齐 |
| o    | 左对齐 | 左对齐 |
| d    | 左对齐 | 左对齐 |
| u    | 左对齐 | 左对齐 |
| x    | 左对齐 | 左对齐 |
| f    | 左对齐 | 左对齐 |
| e    | 左对齐 | 左对齐 |
| g    | 左对齐 | 左对齐 |
| c    | 左对齐 | 左对齐 |
| s    | 左对齐 | 左对齐 |

#### 3. content字段

| 类型 | "0"                                    | 空       |
| ---- | -------------------------------------- | -------- |
| b    | align为"-"，填充空格；align为空，填充0 | 填充空格 |
| o    | align为"-"，填充空格；align为空，填充0 | 填充空格 |
| d    | align为"-"，填充空格；align为空，填充0 | 填充空格 |
| u    | align为"-"，填充空格；align为空，填充0 | 填充空格 |
| x    | align为"-"，填充空格；align为空，填充0 | 填充空格 |
| f    | align为"-"，填充空格；align为空，填充0 | 填充空格 |
| e    | align为"-"，填充空格；align为空，填充0 | 填充空格 |
| g    | align为"-"，填充空格；align为空，填充0 | 填充空格 |
| c    | 填充空格                               | 填充空格 |
| s    | 填充空格                               | 填充空格 |

#### 4. length字段

| 类型 | 正整数                                                       | "*"                  |
| ---- | ------------------------------------------------------------ | -------------------- |
| b    | 对应输出字符串长度最少为该数，如果不够，则按照指定的规则填充 | 该字段由参数列表提供 |
| o    | 对应输出字符串长度最少为该数，如果不够，则按照指定的规则填充 | 该字段由参数列表提供 |
| d    | 对应输出字符串长度最少为该数，如果不够，则按照指定的规则填充 | 该字段由参数列表提供 |
| u    | 对应输出字符串长度最少为该数，如果不够，则按照指定的规则填充 | 该字段由参数列表提供 |
| x    | 对应输出字符串长度最少为该数，如果不够，则按照指定的规则填充 | 该字段由参数列表提供 |
| f    | 对应输出字符串长度最少为该数，如果不够，则按照指定的规则填充 | 该字段由参数列表提供 |
| e    | 对应输出字符串长度最少为该数，如果不够，则按照指定的规则填充 | 该字段由参数列表提供 |
| g    | 对应输出字符串长度最少为该数，如果不够，则按照指定的规则填充 | 该字段由参数列表提供 |
| c    | 对应输出字符串长度最少为该数，如果不够，则按照指定的规则填充 | 该字段由参数列表提供 |
| s    | 对应输出字符串长度最少为该数，如果不够，则按照指定的规则填充 | 该字段由参数列表提供 |

### （四）precision字段

#### 1. 组成

`.[flag](value)`

#### 2. flag字段

| 类型 | "="                                     | 空                                      |
| ---- | --------------------------------------- | --------------------------------------- |
| b    | 保留最低的value位数字（从右到左数）     | 保留最低的value位数字（从右到左数）     |
| o    | 保留最低的value位数字（从右到左数）     | 保留最低的value位数字（从右到左数）     |
| d    | 保留value位有效数字                     | 保留value位有效数字                     |
| u    | 保留value位有效数字                     | 保留value位有效数字                     |
| x    | 保留最低的value位数字（从右到左数）     | 保留最低的value位数字（从右到左数）     |
| f    | 保留value位有效数字                     | 小数点后保留value位数字                 |
| e    | 保留value位有效数字                     | 小数点后保留value位数字                 |
| g    | 保留value位有效数字                     | 小数点后保留value位数字                 |
| c    | 最大输出长度为value个字符，超出停止输出 | 最大输出长度为value个字符，超出停止输出 |
| s    | 最大输出长度为value个字符，超出停止输出 | 最大输出长度为value个字符，超出停止输出 |

#### 3. value字段

| 类型 | 正整数                                 | "*"                  |
| ---- | -------------------------------------- | -------------------- |
| b    | 指定精度数为该数，按照制定规则保留数据 | 该字段由参数列表提供 |
| o    | 指定精度数为该数，按照制定规则保留数据 | 该字段由参数列表提供 |
| d    | 指定精度数为该数，按照制定规则保留数据 | 该字段由参数列表提供 |
| u    | 指定精度数为该数，按照制定规则保留数据 | 该字段由参数列表提供 |
| x    | 指定精度数为该数，按照制定规则保留数据 | 该字段由参数列表提供 |
| f    | 指定精度数为该数，按照制定规则保留数据 | 该字段由参数列表提供 |
| e    | 指定精度数为该数，按照制定规则保留数据 | 该字段由参数列表提供 |
| g    | 指定精度数为该数，按照制定规则保留数据 | 该字段由参数列表提供 |
| c    | 指定精度数为该数，按照制定规则保留数据 | 该字段由参数列表提供 |
| s    | 指定精度数为该数，按照制定规则保留数据 | 该字段由参数列表提供 |

### （五）iteration字段

#### 1. 组成

`r(length)[horizental group size][vertical group size]`
